## 关于lab2

* 实验文档在pdf目录下
* logisim电路图在solution目录下

* 在vivado中导入`vivado/lab2`目录下的`lab2.xpr`可以看到项目的所有实现文件

  1. 所有verilog文件在vsrc目录下
  2. 所有的约束文件在constr目录下
  3. 仿真文件在sim目录下（有些忘记改路径了）， 不过我的仿真文件写的不好
  4. 最后的bit文件在bitstream/impl_1文件下

* 所有模块实现集成到了top模块中，最后烧录也是以top模块烧录的

* 管脚说明

  ```
  1. 开关0-3是加法器的输入a
  2. 开关4-7是加法器的输入b
  3. 开关8-9是晶体管选择器的输入
  4. 晶体管的管脚按照实验书书写（我的值与实验指导书的值是反的）
  5. LD0溢出标志位
  ```



## 题目思路

最主要的思路是设计七位晶体管的显示，从本实验开始，可以使用行为方式编写verilog,具体文件见vsrc目录



只介绍七位晶体管的结构建模方法

| display | S3   | S2   | S1   | S0   | a    | b    | c    | d    | e    | f    | g    |
| ------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |
| 1       | 0    | 0    | 0    | 1    | 1    | 0    | 0    | 1    | 1    | 1    | 1    |
| 2       | 0    | 0    | 1    | 0    | 0    | 0    | 1    | 0    | 0    | 1    | 0    |
| 3       | 0    | 0    | 1    | 1    | 0    | 0    | 0    | 0    | 1    | 1    | 0    |
| 4       | 0    | 1    | 0    | 0    | 1    | 0    | 0    | 1    | 1    | 0    | 0    |
| 5       | 0    | 1    | 0    | 1    | 0    | 1    | 0    | 0    | 1    | 0    | 0    |
| 6       | 0    | 1    | 1    | 0    | 0    | 1    | 0    | 0    | 0    | 0    | 0    |
| 7       | 0    | 1    | 1    | 1    | 0    | 0    | 0    | 1    | 1    | 1    | 1    |
| 8       | 1    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| 9       | 1    | 0    | 0    | 1    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |
| a       | 1    | 0    | 1    | 0    | 0    | 0    | 0    | 1    | 0    | 0    | 0    |
| b       | 1    | 0    | 1    | 1    | 1    | 1    | 0    | 0    | 0    | 0    | 0    |
| c       | 1    | 1    | 0    | 0    | 0    | 1    | 1    | 0    | 0    | 0    | 1    |
| d       | 1    | 1    | 0    | 1    | 1    | 0    | 0    | 0    | 0    | 1    | 0    |
| e       | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 0    | 0    | 0    | 0    |
| f       | 1    | 1    | 1    | 1    | 0    | 1    | 1    | 1    | 0    | 0    | 0    |

然后写出a-g的真值表达式即可，我没有化简，没有化简的思路，但是display0-f的S3 S2 S1 S0都被使用，所以可以都创建后再复用



## 一些注意事项

1. 在fpga开发板中，七段晶体管是低电平有效，但在logisim中，是高电平有效
2. fpga开发板中，4个七段晶体管连接的是相同的a-g，根据人眼可以识别的变化，可以利用刷新（选中不同的晶体管，改变它的值），使得不同的晶体管显示不同的值（在本次lab中没有用到）
3. vivado每次修改完，一定要从头到尾从头走一遍流程（linter-elaborate-simulation-synthesis-implementation-create)

4. verilog赋值时一定要指定数据位数，否则可能产生随即补0,影响结果